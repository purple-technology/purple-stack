# yaml-language-server: $schema=https://coderabbit.ai/integrations/schema.v2.json

# CodeRabbit Configuration Template
# Complete reference: https://docs.coderabbit.ai/reference/configuration
# Copy this file to .coderabbit.yaml in your repository root

# =============================================================================

# GLOBAL SETTINGS

# These settings apply to your entire CodeRabbit configuration

# =============================================================================

# Set the language for reviews by using the corresponding ISO language code

# Options: de, de-DE, de-AT, de-CH, en, en-US, en-AU, en-GB, en-CA, en-NZ, en-ZA, es, es-AR, fr, fr-CA, fr-CH, fr-BE, nl, nl-BE, pt-AO, pt, pt-BR, pt-MZ, pt-PT, ar, ast-ES, ast, be-BY, be, br-FR, br, ca-ES, ca, ca-ES-valencia, ca-ES-balear, da-DK, da, de-DE-x-simple-language, el-GR, el, eo, fa, ga-IE, ga, gl-ES, gl, it, ja-JP, ja, km-KH, km, ko-KR, ko, pl-PL, pl, ro-RO, ro, ru-RU, ru, sk-SK, sk, sl-SI, sl, sv, ta-IN, ta, tl-PH, tl, tr, uk-UA, uk, zh-CN, zh, crh-UA, crh, cs-CZ, cs, nb, no, nl-NL, de-DE-x-simple-language-DE, es-ES, it-IT, fa-IR, sv-SE, de-LU, fr-FR, bg-BG, bg, he-IL, he, hi-IN, hi, vi-VN, vi, th-TH, th, bn-BD, bn

# Default: "en-US"

language: "en-US"

# Set the tone of reviews and chat. Example: 'You must use talk like Mr. T. I pity the fool who doesn't!'

# Default: ""

tone_instructions: ""

# Enable early-access features

# Default: false

early_access: false

# Enable free tier features for users not on a paid plan

# Default: true

enable_free_tier: true

# =============================================================================

# REVIEWS

# Settings related to reviews

# =============================================================================

# Settings related to reviews

# Default: {}

reviews:
  # Set the profile for reviews. Assertive profile yields more feedback, that may be considered nitpicky
  # Options: chill, assertive
  # Default: "chill"
  profile: "chill"

  # Approve the review once CodeRabbit's comments are resolved and no pre-merge checks are in an error state. Note: In GitLab, all discussions must be resolved
  # Default: false
  request_changes_workflow: false

  # Generate a high level summary of the changes in the PR/MR description
  # Default: true
  high_level_summary: true

  # Placeholder in the PR/MR description that gets replaced with the high level summary
  # Default: "@coderabbitai summary"
  high_level_summary_placeholder: "@coderabbitai summary"

  # Include the high level summary in the walkthrough comment
  # Default: false
  high_level_summary_in_walkthrough: true

  # Add this keyword in the PR/MR title to auto-generate the title
  # Default: "@coderabbitai"
  auto_title_placeholder: "@coderabbitai"

  # Auto Title Instructions - Custom instructions for auto-generating the PR/MR title
  # Default: ""
  auto_title_instructions: ""

  # Post review details on each review. Additionally, post a review status when a review is skipped in certain cases
  # Default: true
  review_status: true

  # Set the commit status to 'pending' when the review is in progress and 'success' when it is complete
  # Default: true
  commit_status: true

  # Set the commit status to 'failure' when the PR cannot be reviewed by CodeRabbit for any reason
  # Default: false
  fail_commit_status: false

  # Generate walkthrough in a markdown collapsible section
  # Default: false
  collapse_walkthrough: true

  # Generate a summary of the changed files in the walkthrough
  # Default: true
  changed_files_summary: false

  # Generate sequence diagrams in the walkthrough
  # Default: true
  sequence_diagrams: true

  # Estimate the code review effort in the walkthrough
  # Default: true
  estimate_code_review_effort: true

  # Generate an assessment of how well the changes address the linked issues in the walkthrough
  # Default: true
  assess_linked_issues: false

  # Include possibly related issues in the walkthrough
  # Default: true
  related_issues: false

  # Related PRs - Include possibly related pull requests in the walkthrough
  # Default: true
  related_prs: true

  # Suggest labels based on the changes in the pull request in the walkthrough
  # Default: true
  suggested_labels: false

  # Automatically apply the suggested labels to the PR/MR
  # Default: false
  auto_apply_labels: false

  # Suggest reviewers based on the changes in the pull request in the walkthrough
  # Default: true
  suggested_reviewers: true

  # Automatically assign suggested reviewers to the pull request
  # Default: false
  auto_assign_reviewers: false

  # Post an in-progress fortune message while the review is in progress
  # Default: true
  in_progress_fortune: false

  # Generate a poem in the walkthrough comment
  # Default: true
  poem: false

  # Labeling Instructions - Provide guidelines for suggesting labels for the PR/MR. When specific labels or instructions are provided, only those labels are considered, though previous examples are still used to inform the suggestions. If no such labels are provided, suggestions are based solely on previous PR/MRs
  # Default: []
  labeling_instructions: []

  # Specify file patterns to include or exclude in a review using glob patterns (e.g., !dist/**, src/**). These patterns also apply to 'git sparse-checkout', including specified patterns and ignoring excluded ones (starting with '!') when cloning the repository
  # Default: []
  path_filters: []

  # Path Instructions - Provide specific additional guidelines for code review based on file paths
  # Default: []
  path_instructions: []

  # Abort the in-progress review if the pull request is closed or merged
  # Default: true
  abort_on_close: true

  # Disable caching of code and dependencies. This will force CodeRabbit to download the code and dependencies fresh from the repository each time
  # Default: false
  disable_cache: false

  # Configuration for auto review
  # Default: {}
  auto_review:
    # Automatic Review - Automatic code review
    # Default: true
    enabled: true

    # Automatic Incremental Review - Automatic incremental code review on each push
    # Default: true
    auto_incremental_review: true

    # Ignore reviewing if the title of the pull request contains any of these keywords (case-insensitive).
    # Default: []
    ignore_title_keywords: [wip, draft]

    # List of labels to control which PRs/MRs to review. Labels starting with '!' are negative matches. Examples: ['bug', 'feature'] - reviews PRs with 'bug' OR 'feature' label. ['!wip'] - reviews all PRs except those with 'wip' label. ['bug', '!wip'] - reviews PRs with 'bug' label but not if they have 'wip' label.
    # Default: []
    labels: []

    # Review draft PRs/MRs.
    # Default: false
    drafts: false

    # Base branches (other than the default branch) to review. Accepts regex patterns. Use '.*' to match all branches.
    # Default: []
    base_branches: [staging]

    # Ignore reviewing pull requests by these usernames. These should match the Git platform usernames exactly, not the email addresses.
    # Default: []
    ignore_usernames: []

  # Configuration for finishing touches
  # Default: {}
  finishing_touches:
    # Docstrings - Options for generating Docstrings for your PRs/MRs.
    # Default: {}
    docstrings:
      # Docstrings - Allow CodeRabbit to generate docstrings for PRs/MRs.
      # Default: true
      enabled: false

    # Unit Tests - Options for generating unit tests for your PRs/MRs.
    # Default: {}
    unit_tests:
      # Unit Tests - Allow CodeRabbit to generate unit tests for PRs/MRs.
      # Default: true
      enabled: true

  # Configuration for pre merge checks
  # Default: {}
  pre_merge_checks:
    # Docstring Coverage - Checks if the code has sufficient docstrings.
    # Default: {}
    docstrings:
      # Mode - Determines how strictly the docstring coverage check is enforced. Warning will only generate a warning and does not require the user to resolve the check. Error requires the user to resolve issues before merging the pull request. If set to error and the request changes workflow is enabled, the pull request will be blocked until the issues are resolved.
      # Options: off, warning, error
      # Default: "warning"
      mode: "off"

      # Percentage threshold for docstring coverage check.
      # Default: 80
      threshold: 80

    # Title Check - Checks if the pull request title is appropriate and follows best practices.
    # Default: {}
    title:
      # Mode - Determines how strictly the title check is enforced. Warning will only generate a warning and does not require the user to resolve the check. Error requires the user to resolve issues before merging the pull request. If set to error and the request changes workflow is enabled, the pull request will be blocked until the issues are resolved.
      # Options: off, warning, error
      # Default: "warning"
      mode: "warning"

      # Requirements - Requirements for the pull request title. Example: 'Title should be concise and descriptive, ideally under 50 characters.'
      # Default: ""
      requirements: "Title should start with task id (example PTT-123, MTE-123, AIT-123, or etc) and be concise and descriptive, ideally under 50 characters."

    # Description Check - Checks if the pull request description is appropriate and follows best practices.
    # Default: {}
    description:
      # Mode - Determines how strictly the description check is enforced. Warning will only generate a warning and does not require the user to resolve the check. Error requires the user to resolve issues before merging the pull request. If set to error and the request changes workflow is enabled, the pull request will be blocked until the issues are resolved.
      # Options: off, warning, error
      # Default: "warning"
      mode: "off"

    # Linked Issue Assessment - Checks if the pull request addresses the linked issues. Generate an assessment of how well the changes address the linked issues.
    # Default: {}
    issue_assessment:
      # Mode - Determines how strictly the issue assessment check is enforced. Warning will only generate a warning and does not require the user to resolve the check. Error requires the user to resolve issues before merging the pull request. If set to error and the request changes workflow is enabled, the pull request will be blocked until the issues are resolved.
      # Options: off, warning, error
      # Default: "warning"
      mode: "off"

    # Custom Pre-merge Checks - Add unique checks to enforce your team's standards before merging a pull request. Each check must have a unique name (up to 50 characters) and clear instructions (up to 10000 characters). Use these to automatically verify coding, security, documentation, or business rules and maintain code quality.
    # Default: []
    custom_checks: []

  # Tools that provide additional context to code reviews
  # Default: {}
  tools:

    # ShellCheck is a static analysis tool that finds bugs in your shell scripts.
    # Default: {}
    shellcheck:

      # Enable ShellCheck - ShellCheck is a static analysis tool that finds bugs in your shell. - Enable ShellCheck integration. - v0.11.0
      # Default: true
      enabled: false


    # markdownlint-cli2 is a static analysis tool to enforce standards and consistency for Markdown files.
    # Default: {}
    markdownlint:

      # Enable markdownlint - markdownlint-cli2 is a static analysis tool to enforce standards and consistency for Markdown files. - Enable markdownlint integration. - v0.18.1
      # Default: true
      enabled: false

    # GitHub Checks integration configuration.
    # Default: {}
    github-checks:

      # Enable GitHub Checks - Enable integration, defaults to true - Enable GitHub Checks integration.
      # Default: true
      enabled: false

      # Time in milliseconds to wait for all GitHub Checks to conclude. Default 90 seconds, max 15 minutes (900000ms).
      # Default: 90000
      timeout_ms: 90000

    # LanguageTool is a style and grammar checker for 30+ languages.
    # Default: {}
    languagetool:

      # Enable LanguageTool - Enable LanguageTool integration.
      # Default: true
      enabled: true

      # IDs of rules to be enabled. The rule won't run unless 'level' is set to a level that activates the rule.
      # Default: []
      enabled_rules: []

      # IDs of rules to be disabled. Note: EN_UNPAIRED_BRACKETS, and EN_UNPAIRED_QUOTES are always disabled.
      # Default: []
      disabled_rules: []

      # IDs of categories to be enabled.
      # Default: []
      enabled_categories: []

      # IDs of categories to be disabled. Note: TYPOS, TYPOGRAPHY, and CASING are always disabled.
      # Default: []
      disabled_categories: []

      # Only the rules and categories whose IDs are specified with 'enabledRules' or 'enabledCategories' are enabled.
      # Default: false
      enabled_only: false

      # If set to 'picky', additional rules will be activated, i.e. rules that you might only find useful when checking formal text.
      # Options: default, picky
      # Default: "default"
      level: "default"

    # YAMLlint is a linter for YAML files.
    # Default: {}
    yamllint:

      # Enable YAMLlint - YAMLlint is a linter for YAML files. - Enable YAMLlint integration. - v1.37.1
      # Default: true
      enabled: true

    # Gitleaks is a secret scanner.
    # Default: {}
    gitleaks:

      # Enable Gitleaks - Gitleaks is a secret scanner. - Enable Gitleaks integration. - v8.28.0
      # Default: true
      enabled: true

    # Checkov is a static code analysis tool for infrastructure-as-code files.
    # Default: {}
    checkov:

      # Enable Checkov - Checkov is a static code analysis tool for infrastructure-as-code files. - v3.2.334
      # Default: true
      enabled: false

    # ESLint is a static code analysis tool for JavaScript files.
    # Default: {}
    eslint:

      # Enable ESLint - ESLint is a static code analysis tool for JavaScript files.
      # Default: true
      enabled: true

    # actionlint is a static checker for GitHub Actions workflow files.
    # Default: {}
    actionlint:

      # Enable actionlint - is a static checker for GitHub Actions workflow files. - v1.7.7
      # Default: true
      enabled: false

    # SQLFluff is an open source, dialect-flexible and configurable SQL linter.
    # Default: {}
    sqlfluff:

      # Enable SQLFluff - SQLFluff is an open source, dialect-flexible and configurable SQL linter. - v3.4.2
      # Default: true
      enabled: false

    # Oxlint is a JavaScript/TypeScript linter for OXC written in Rust.
    # Default: {}
    oxc:

      # Enable Oxlint - Oxlint is a JavaScript/TypeScript linter for OXC written in Rust. - v1.19.0
      # Default: true
      enabled: false

    # OSV Scanner is a tool for vulnerability package scanning.
    # Default: {}
    osvScanner:

      # Enable OSV Scanner - OSV Scanner is a tool for vulnerability package scanning - v2.2.3
      # Default: true
      enabled: true

# =============================================================================

# CHAT

# Configuration for chat

# =============================================================================

# Configuration for chat

# Default: {}

chat:
  # Generate art in response to chat messages. CodeRabbit expresses emotions as either ASCII or Emoji art
  # Default: true
  art: false

  # Enable the bot to reply automatically without requiring the user to tag it
  # Default: true
  auto_reply: true

  # Configuration for integrations
  # Default: {}
  integrations:
    # Configuration for linear
    # Default: {}
    linear:
      # Linear - Enable the Linear integration for opening issues, etc. 'auto' disables the integration for public repositories.
      # Options: auto, enabled, disabled
      # Default: "auto"
      usage: "auto"


# =============================================================================

# KNOWLEDGE BASE

# Configuration for knowledge base

# =============================================================================

# Configuration for knowledge base

# Default: {}

knowledge_base:
  # Opt Out - Disable all knowledge base features that require data retention. If you opt out after opting in, all of your existing knowledge base data will be removed from the system
  # Default: false
  opt_out: false

  # Configuration for web search
  # Default: {}
  web_search:
    # Web Search - Enable the web search integration.
    # Default: true
    enabled: false

  # CodeRabbit will analyse and learn from your organization's code guidelines, which you can mention in the file patterns section. These guidelines will then be used to conduct thorough code reviews
  # Default: {}
  code_guidelines:
    # Enabled - Enable CodeRabbit to enforce your organization's coding standards during reviews.
    # Default: true
    enabled: true

    # File Patterns - Specify files for your coding guideline documents in this section. CodeRabbit will scan these files to understand your team's standards and apply them during code reviews. Multiple files supported. File names are case-sensitive. Common files like: (**/.cursorrules, .github/copilot-instructions.md, .github/instructions/*.instructions.md, **/CLAUDE.md, **/GEMINI.md, **/.cursor/rules/*, **/.windsurfrules, **/.clinerules/*, **/.rules/*, **/AGENT.md, **/AGENTS.md) are included by default.
    # Default: []
    filePatterns: []

  # Configuration for learnings
  # Default: {}
  learnings:
    # Learnings - Specify the scope of learnings to use for the knowledge base. 'local' uses the repository's learnings, 'global' uses the organization's learnings, and 'auto' uses repository's learnings for public repositories and organization's learnings for private repositories.
    # Options: local, global, auto
    # Default: "auto"
    scope: "local"

  # Configuration for linear
  # Default: {}
  linear:
    # Linear - Enable the Linear knowledge base integration. 'auto' disables the integration for public repositories.
    # Options: auto, enabled, disabled
    # Default: "auto"
    usage: "auto"

    # Linear Team Keys - Specify the Linear team keys (identifiers) to use for the knowledge base. E.g. 'ENG'
    # Default: []
    team_keys: [PTT, MTE, AIT]

  # Configuration for pull requests
  # Default: {}
  pull_requests:
    # Pull Requests - Specify the scope of pull requests to use for the knowledge base. 'local' uses the repository's pull requests, 'global' uses the organization's pull requests, and 'auto' uses repository's pull requests for public repositories and organization's pull requests for private repositories.
    # Options: local, global, auto
    # Default: "auto"
    scope: "auto"

  # Configuration for mcp
  # Default: {}
  mcp:
    # MCP - Enable the MCP knowledge base integration. 'auto' disables the integration for public repositories.
    # Options: auto, enabled, disabled
    # Default: "auto"
    usage: "auto"

    # MCP Disabled Servers - Specify MCP server labels to disable (case-insensitive). These servers will be excluded from reviews and knowledge base queries.
    # Default: []
    disabled_servers: []

# =============================================================================

# CODE GENERATION

# Configuration for code generation

# =============================================================================

# Configuration for code generation

# Default: {}

code_generation:
  # Settings related to the generation of docstrings
  # Default: {"path_instructions":[]}
  docstrings:
    # Set the language for docstrings by using the corresponding ISO language code.
    # Options: de, de-DE, de-AT, de-CH, en, en-US, en-AU, en-GB, en-CA, en-NZ, en-ZA, es, es-AR, fr, fr-CA, fr-CH, fr-BE, nl, nl-BE, pt-AO, pt, pt-BR, pt-MZ, pt-PT, ar, ast-ES, ast, be-BY, be, br-FR, br, ca-ES, ca, ca-ES-valencia, ca-ES-balear, da-DK, da, de-DE-x-simple-language, el-GR, el, eo, fa, ga-IE, ga, gl-ES, gl, it, ja-JP, ja, km-KH, km, ko-KR, ko, pl-PL, pl, ro-RO, ro, ru-RU, ru, sk-SK, sk, sl-SI, sl, sv, ta-IN, ta, tl-PH, tl, tr, uk-UA, uk, zh-CN, zh, crh-UA, crh, cs-CZ, cs, nb, no, nl-NL, de-DE-x-simple-language-DE, es-ES, it-IT, fa-IR, sv-SE, de-LU, fr-FR, bg-BG, bg, he-IL, he, hi-IN, hi, vi-VN, vi, th-TH, th, bn-BD, bn
    # Default: "en-US"
    language: "en-US"

    # Path Instructions - Provide additional guidelines for docstring generation based on file paths.
    # Default: []
    path_instructions: []

  # Settings related to the generation of unit tests
  # Default: {"path_instructions":[]}
  unit_tests:
    # Unit Test Generation - Provide additional guidelines for unit test generation based on file paths.
    # Default: []
    path_instructions: []
